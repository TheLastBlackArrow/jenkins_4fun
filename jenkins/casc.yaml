jenkins:
  authorizationStrategy: "loggedInUsersCanDoAnything"
  markupFormatter:
    rawHtml:
      disableSyntaxHighlighting: false
  mode: NORMAL
  numExecutors: 1
  primaryView:
    all:
      name: "all"
  projectNamingStrategy: "standard"
  quietPeriod: 5
  scmCheckoutRetryCount: 0
  securityRealm:
    local:
      allowsSignup: false
      enableCaptcha: false
      users:
      - id: ${JENKINS_ADMIN_ID}
        password: ${JENKINS_ADMIN_PASSWORD}
  updateCenter:
    sites:
    - id: "default"
      url: "https://updates.jenkins.io/update-center.json"
  views:
  - all:
      name: "all"
  nodes:
    # Agents will be generated dynamically using Jinja2-style template
    {% for agent in agents %}
    - permanent:
        name: "{{ agent.name }}"
        remoteFS: "/home/jenkins/agent"
        retentionStrategy: "always"
        numExecutors: 1
        launcher:
          ssh:
            host: "{{ agent.ip }}"
            port: 22
            credentialsId: "ssh_connect"
            maxNumRetries: 3
            sshHostKeyVerificationStrategy:
              manuallyTrustedKeyVerificationStrategy:
                requireInitialManualTrust: false
    {% endfor %}
credentials:
  system:
    domainCredentials:
      - credentials:
          - basicSSHUserPrivateKey:
              description: "ssh_connect"
              id: "ssh_connect"
              privateKeySource:
                directEntry:
                  privateKey: "${JENKINS_SSH_PRIVATE_KEY}"
              scope: GLOBAL
              username: "jenkins"
              usernameSecret: true
globalCredentialsConfiguration:
  configuration:
    providerFilter: "none"
    typeFilter: "none"
unclassified:
  buildDiscarders:
    configuredBuildDiscarders:
    - "jobBuildDiscarder"
  fingerprints:
    fingerprintCleanupDisabled: false
    storage: "file"
  location:
    adminAddress: "address not configured yet <nobody@nowhere>"
    url: "${JENKINS_URL}/"
  mailer:
    charset: "UTF-8"
    useSsl: false
    useTls: false
